



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Notes on Euclidean Tensor Analysis.">
      
      
      
        <meta name="author" content="Amuthan A. Ramabathiran">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.3">
    
    
      
        <title>Curvilinear Coordinates - Euclidean Tensor Analysis</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.30686662.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#3f51b5">
      
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,400i,700|Open+Sans&display=fallback">
        <style>body,input{font-family:"Open Sans","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Open Sans","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../extra.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#coordinate-basis" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Euclidean Tensor Analysis" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Euclidean Tensor Analysis
            </span>
            <span class="md-header-nav__topic">
              
                Curvilinear Coordinates
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="Euclidean Tensor Analysis" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Euclidean Tensor Analysis
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../inner_product_spaces/" title="Inner Product Spaces" class="md-nav__link">
      Inner Product Spaces
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../linear_maps_1/" title="Linear Maps - I" class="md-nav__link">
      Linear Maps - I
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../tensor_algebra/" title="Tensor Algebra" class="md-nav__link">
      Tensor Algebra
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../linear_maps_2/" title="Linear Maps - II" class="md-nav__link">
      Linear Maps - II
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../nonlinear_maps/" title="Linearization of Nonlinear Maps" class="md-nav__link">
      Linearization of Nonlinear Maps
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../tensor_analysis_R3/" title="Euclidean Tensor Analysis" class="md-nav__link">
      Euclidean Tensor Analysis
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Curvilinear Coordinates
      </label>
    
    <a href="./" title="Curvilinear Coordinates" class="md-nav__link md-nav__link--active">
      Curvilinear Coordinates
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#coordinate-basis" class="md-nav__link">
    Coordinate basis
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reciprocal-coordinate-basis" class="md-nav__link">
    Reciprocal coordinate basis
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#christoffel-symbols" class="md-nav__link">
    Christoffel symbols
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metric-tensor" class="md-nav__link">
    Metric tensor
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gradient" class="md-nav__link">
    Gradient
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gradient-of-the-metric-tensor" class="md-nav__link">
    Gradient of the metric tensor
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#divergence" class="md-nav__link">
    Divergence
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#curl" class="md-nav__link">
    Curl
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration" class="md-nav__link">
    Integration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#special-coordinate-systems" class="md-nav__link">
    Special coordinate systems
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../set_theory/" title="Appendix - Set Theory" class="md-nav__link">
      Appendix - Set Theory
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#coordinate-basis" class="md-nav__link">
    Coordinate basis
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reciprocal-coordinate-basis" class="md-nav__link">
    Reciprocal coordinate basis
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#christoffel-symbols" class="md-nav__link">
    Christoffel symbols
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metric-tensor" class="md-nav__link">
    Metric tensor
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gradient" class="md-nav__link">
    Gradient
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gradient-of-the-metric-tensor" class="md-nav__link">
    Gradient of the metric tensor
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#divergence" class="md-nav__link">
    Divergence
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#curl" class="md-nav__link">
    Curl
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration" class="md-nav__link">
    Integration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#special-coordinate-systems" class="md-nav__link">
    Special coordinate systems
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Curvilinear Coordinates</h1>
                
                <p>The notion of a general coordinate system was introduced at the
beginning of this section. All the coordinate computations thus far have
been restricted to the global Cartesian coordinate system on
<script type="math/tex">\mathbb{R}^3</script>. There are, however, many applications where the use of
special coordinate systems significantly simplify the calculations. It
is thus of interest to study how the calculus of tensor fields on
<script type="math/tex">\mathbb{R}^3</script> can be developed within a general coordinate setting.</p>
<p>Before discussing the general case of tensor fields on <script type="math/tex">U</script>, it is
instructive to consider the case of a smooth vector field
<script type="math/tex">\mathsf{v}:U \to TU</script>. Given any <script type="math/tex">\mathsf{x} \in U</script>, the vector
<script type="math/tex">\mathsf{v}(\mathsf{x}) \in T_{\mathsf{x}}U</script> admits the following
representation with respect to the Cartesian coordinate system on
<script type="math/tex">\mathbb{R}^3</script>:
<script type="math/tex; mode=display">\mathsf{v}(\mathsf{x}) = \sum v_i(\mathsf{x})\mathsf{e}_i.</script> The
question that naturally arises is how to represent <script type="math/tex">\mathsf{v}</script> using
a general coordinate system on <script type="math/tex">U</script>. In particular, if each tangent
space <script type="math/tex">T_{\mathsf{x}}U</script> is equipped with a different basis, then the
vector field <script type="math/tex">\mathsf{v}</script> can be locally expressed with respect to the
corresponding basis. What will become evident soon is that given a
general coordinate system on <script type="math/tex">U</script>, it is possible to construct a
natural set of basis vectors for each tangent space, called the
<em>coordinate basis</em>, and which in turn can be used to build a systematic
calculus using these curvilinear coordinates.</p>
<div class="admonition info">
<p class="admonition-title">Remark</p>
<p>It is possible to choose basis vectors for each tangent space that are not derived from coordinates. Such a choice is called a <em>frame</em>, and the associated calculus is called <em>Cartan's method of moving frames</em>. We will not develop that here since coordinate bases are sufficient for our purposes.</p>
</div>
<h2 id="coordinate-basis">Coordinate basis</h2>
<p>Recall that a coordinate system on <script type="math/tex">\mathbb{R}^3</script> is a pair
<script type="math/tex">(U,\mathsf\phi)</script> where <script type="math/tex">U</script> is an open subset of <script type="math/tex">\mathbb{R}^3</script>
and <script type="math/tex">\mathsf\phi:U \to \mathbb{R}^3</script> is a diffeomorphism from <script type="math/tex">U</script>
onto <script type="math/tex">\mathbb{R}^3</script>. The curvilinear coordinates of any
<script type="math/tex">\mathsf{x} \in U</script> are then defined as
<script type="math/tex">\mathsf{y} = \mathsf{y}(\mathsf{x}) \in \mathbb{R}^3</script>. Recall that this is a simplified notation for <script type="math/tex">\mathsf{y} = \mathsf\phi(\mathsf{x})</script>. The inverse of
this relation is written as <script type="math/tex">\mathsf{x} = \mathsf{x}(\mathsf{y})</script>. It
is convenient to introduce the notation
<script type="math/tex">V = \mathsf\phi(U) \subseteq \mathbb{R}^3</script> to denote the image of
<script type="math/tex">U</script> under <script type="math/tex">\mathsf\phi</script>.</p>
<div class="admonition info">
<p class="admonition-title">Remark</p>
<p>Note that depending on the choice of coordinate system, the
triads of real numbers <script type="math/tex">\mathsf{x} = (x_1, x_2, x_3)</script> and
<script type="math/tex">\mathsf{y} = (y_1, y_2, y_3)</script> could represent the <em>same</em> point in
<script type="math/tex">U</script>. Specifically, if <script type="math/tex">\mathsf{y} = \mathsf\phi(\mathsf{x})</script>, or if
<script type="math/tex">\mathsf{x} = \mathsf\phi^{-1}(\mathsf{y})</script>, then they indeed
represent the same point. It is conventional to work with the the
coordinates <script type="math/tex">\mathsf{x}</script> when working in a Cartesian coordinate
setting, and the coordinates <script type="math/tex">\mathsf{y}</script>, for the same point, when
using curvilinear coordinates.</p>
</div>
<p>A <strong>coordinate curve</strong> at <script type="math/tex">\mathsf{x} \in \mathbb{R}^3</script> is a map of
the form <script type="math/tex">\mathsf{c}_i:I_{\delta} \to \mathbb{R}^3</script>, where
<script type="math/tex">I_\delta = [-\delta, \delta] \subseteq \mathbb{R}</script> for some
<script type="math/tex">\delta > 0</script>, such that, for any <script type="math/tex">t \in I_\delta</script>, <script type="math/tex; mode=display">\begin{split}
\mathsf{c}_1(t) &= \mathsf{x}(y_1 + t, y_2, y_3),\\
\mathsf{c}_2(t) &= \mathsf{x}(y_1, y_2 + t, y_3),\\
\mathsf{c}_3(t) &= \mathsf{x}(y_1, y_2, y_3 + t),
\end{split}</script> where <script type="math/tex">\mathsf{y} = \mathsf{y}(\mathsf{x})</script>. Note that
<script type="math/tex">\mathsf{c}_i(0) = \mathsf{x}</script> for <script type="math/tex">i=1,2,3</script>. The tangent vector
<script type="math/tex">\mathsf{g}_i(\mathsf{y})</script> to the coordinate curve <script type="math/tex">\mathsf{c}_i</script> at
<script type="math/tex">t = 0</script> is defined as the <strong><script type="math/tex">i^{th}</script> coordinate tangent vector</strong>:
<script type="math/tex; mode=display">\mathsf{g}_i(\mathsf{y}) = \dot{\mathsf{c}}_i(0) = \sum \frac{\partial x_j(\mathsf{y})}{\partial y_i} \mathsf{e}_j.</script>
Note that each
<script type="math/tex">\mathsf{g}_i(\mathsf{y}) \in T_{\mathsf{x}(\mathsf{y})}U</script>. Further,
the triad of tangent vectors <script type="math/tex">(\mathsf{g}_i(\mathsf{y}))</script> is linearly
independent: to see this, note that if for some real numbers
<script type="math/tex">a_1, a_2, a_3 \in \mathbb{R}</script>,
<script type="math/tex">\sum a_i \mathsf{g}_i(\mathsf{y}) = \mathsf{0}</script>, then
<script type="math/tex; mode=display">\sum a_i \frac{\partial x_j(\mathsf{y})}{\partial y_i} \mathsf{e}_j = \mathsf{0} \quad\Rightarrow\quad \sum a_i \frac{\partial x_j(\mathsf{y})}{\partial y_i} = 0, \; i = 1,2,3.</script>
The implication in the equation above follows from the fact that the
triad of vectors <script type="math/tex">(\mathsf{e}_i)</script> is linearly independent. Arranging
these three equations in matrix form, it follows from the fact that
<script type="math/tex; mode=display">\text{det}\begin{bmatrix}
\partial_1 x_1(\mathsf{y}) & \partial_2 x_1(\mathsf{y}) & \partial_3 x_1(\mathsf{y})\\
\partial_1 x_2(\mathsf{y}) & \partial_2 x_2(\mathsf{y}) & \partial_3 x_2(\mathsf{y})\\
\partial_1 x_3(\mathsf{y}) & \partial_2 x_3(\mathsf{y}) & \partial_3 x_3(\mathsf{y})\\
\end{bmatrix} \neq 0</script> that <script type="math/tex">a_1 = a_2 = a_3 = 0</script>. This shows that the
triad <script type="math/tex">(\mathsf{g}_i(\mathsf{y}))</script> is a basis of
<script type="math/tex">T_{\mathsf{x}(\mathsf{y})}U</script>, and is called the <strong>coordinate basis</strong>
of <script type="math/tex">T_{\mathsf{x}(\mathsf{y})}U</script> with respect to the coordinate system
<script type="math/tex">(U,\mathsf\phi)</script>. At any <script type="math/tex">\mathsf{y} \in V</script>, it is easy to compute
the scalars
<script type="math/tex">g_{ij}(\mathsf{y}) = \mathsf{g}_i(\mathsf{y})\cdot\mathsf{g}_j(\mathsf{y})</script>:
<script type="math/tex; mode=display">g_{ij}(\mathsf{y}) = \sum \frac{\partial x_k(\mathsf{y})}{\partial y_i}\frac{\partial x_k(\mathsf{y})}{\partial y_j}.</script>
Note that it is not the case, in general, that <script type="math/tex">g_{ij} = \delta_{ij}</script>.
This shows that the basis <script type="math/tex">(\mathsf{g}_i(\mathsf{y}))</script> of
<script type="math/tex">T_{\mathsf{x}(\mathsf{y})}U</script> is not necessarily an orthonormal basis.</p>
<div class="admonition info">
<p class="admonition-title">Remark</p>
<p>The scalars $g_{ij}(\mathsf{y})$ are the components of a tensor field called the <em>metric tensor</em>, to be introduced shortly. The presence of a metric tensor gives what is called a <em>Riemannian structure</em>. It is possible to develop a more general theory without specifying a Riemannian structure, but we will not require that level of generality in this course.</p>
</div>
<p>Given a smooth vector field <script type="math/tex">\mathsf{v}:U \to TU</script>, the vector
<script type="math/tex">\mathsf{v}(\mathsf{x}) \in T_{\mathsf{x}}U</script> can now be expressed in
terms of the corresponding coordinate basis
<script type="math/tex">(\mathsf{g}_i(\mathsf{y}))</script>, where
<script type="math/tex">\mathsf{y} = \mathsf{y}(\mathsf{x}) \in V</script>, as follows:
<script type="math/tex; mode=display">\mathsf{v}(\mathsf{x}) = \sum \hat{v}_i(\mathsf{y}) \mathsf{g}_i(\mathsf{y}).</script>
Notice how <em>both</em> the component fields <script type="math/tex">\hat{v}_i</script> and the basis
vectors <script type="math/tex">\mathsf{g}_i</script> depend on <script type="math/tex">\mathsf{y}</script>. This is in contrast
to the Cartesian representation of <script type="math/tex">\mathsf{v}</script> where the basis
vectors do not depend on the tangent space under consideration. The
change of basis rules discussed earlier can be used here to study how
the curvilinear components <script type="math/tex">(\hat{v}_i)</script> of <script type="math/tex">\mathsf{v}</script> are related
to its Cartesian components <script type="math/tex">(v_i)</script>: if
<script type="math/tex">\mathsf{y} = \mathsf{y}(\mathsf{x})</script>, where <script type="math/tex">\mathsf{x} \in U</script>,
then
<script type="math/tex; mode=display">\sum v_i(\mathsf{x}) \mathsf{e}_i = \sum \hat{v}_i(\mathsf{y})\mathsf{g}_i(\mathsf{y}) \quad\Rightarrow\quad v_i(\mathsf{x}) = \sum \frac{\partial x_i(\mathsf{y})}{\partial y_j} \hat{v}_j(\mathsf{y}).</script>
The inverse relation can be calculated by inverting this equation. This
is more elegantly achieved by the use of the reciprocal basis to
<script type="math/tex">(\mathsf{g}_i(\mathsf{y}))</script>, which is presented next.</p>
<h2 id="reciprocal-coordinate-basis">Reciprocal coordinate basis</h2>
<p>The coordinate basis <script type="math/tex">(\mathsf{g}_i(\mathsf{y}))</script> to the tangent space
at <script type="math/tex">\mathsf{x}(\mathsf{y}) \in U</script> is in general not orthornormal, as
was noted in the previous section. It is therefore pertinent to compute
its reciprocal basis to simplify various computations. A useful relation
that helps in establishing many of the results in this section stems
from the observation that the coordinate relations
<script type="math/tex">\mathsf{y} = \mathsf{y}(\mathsf{x})</script> and
<script type="math/tex">\mathsf{x} = \mathsf{x}(\mathsf{y})</script> are inverses of each other,
whence
<script type="math/tex; mode=display">\mathsf{x}(\mathsf{y}(\mathsf{x})) = \mathsf{x}, \quad\text{or}\quad x_i(\mathsf{y}(\mathsf{x})) = x_i.</script>
Differentiating this expression with respect to <script type="math/tex">x_j</script> immediately
yields the identity
<script type="math/tex; mode=display">\sum \frac{\partial x_i(\mathsf{y})}{\partial y_k}\frac{\partial y_k(\mathsf{x})}{\partial x_j} = \delta_{ij}.</script>
Similarly, the identity
<script type="math/tex">\mathsf{y}(\mathsf{x}(\mathsf{y})) = \mathsf{y}</script> yields the relation
<script type="math/tex; mode=display">\sum \frac{\partial y_i(\mathsf{y})}{\partial x_k}\frac{\partial x_k(\mathsf{x})}{\partial y_j} = \delta_{ij}</script>
These two identies state the expected fact that the matrices whose
<script type="math/tex">(i,j)^{\text{th}}</script> entries are <script type="math/tex">\partial_j x_i(\mathsf{y})</script> and
<script type="math/tex">\partial_j y_i(\mathsf{x})</script> are inverses of each other. These
identities can be used to derive a variety of useful results. First,
note that
<script type="math/tex; mode=display">\mathsf{g}_i(\mathsf{y}) = \sum \frac{\partial x_j(\mathsf{y})}{\partial y_i} \mathsf{e}_j \quad\Rightarrow\quad \mathsf{e}_i = \sum \frac{\partial y_j(\mathsf{x})}{\partial x_i}\mathsf{g}_j(\mathsf{y}).</script>
Second, note that <script type="math/tex; mode=display">\begin{split}
\delta_{ij} &= \sum \frac{\partial y_i(\mathsf{y})}{\partial x_k}\frac{\partial x_k(\mathsf{x})}{\partial y_j}\\
 &= \left(\sum \frac{\partial y_i(\mathsf{x})}{\partial x_k}\mathsf{e}_k\right)\cdot\left(\sum \frac{\partial x_l(\mathsf{y})}{\partial y_j}\mathsf{e}_l\right)\\
 &= \left(\sum \frac{\partial y_i(\mathsf{x})}{\partial x_k}\mathsf{e}_k\right)\cdot\mathsf{g}_j(\mathsf{y}).
\end{split}</script> This calculation shows at once that the vector
<script type="math/tex">(\mathsf{g}^i(\mathsf{y}))</script> defined as
<script type="math/tex; mode=display">\mathsf{g}^i(\mathsf{y}) = \sum \frac{\partial y_i(\mathsf{x})}{\partial x_k}\mathsf{e}_k \in T_{\mathsf{x}}U,</script>
satisfy the relations
<script type="math/tex; mode=display">\mathsf{g}^i(\mathsf{y}) \cdot \mathsf{g}_j(\mathsf{y}) = \delta_{ij}.</script>
It is thus evident that the vectors <script type="math/tex">(\mathsf{g}^i(\mathsf{y}))</script> thus
defined constitute the reciprocal basis to the coordinate basis
<script type="math/tex">(\mathsf{g}_i(\mathsf{y}))</script> of <script type="math/tex">T_{\mathsf{x}}U</script>, and is called the
<strong>reciprocal coordinate basis</strong> of <script type="math/tex">T_{\mathsf{x}}U</script>.</p>
<div class="admonition info">
<p class="admonition-title">Remark</p>
<p>The use of superscript indices, as in <script type="math/tex">\mathsf{g}^i(\mathsf{y})</script>, is just a notational construct at this point. But since they form a basis of $T_{\mathsf{x}}U$, it is possible to expand tangent vectors with respect to the reciprocal basis too. To keep the discussion compact, we will not elaborate on those details here. Moreover, a better setting to appreciate that is using <em>dual basis</em>, which in the presence of a Riemannian metric, can be identified with the reciprocal basis. Since we will only be dealing with <em>orthogonal curvilinear coordinates</em> in this course, these details are not relevant for our purposes.</p>
</div>
<p>The reciprocal coordinate basis <script type="math/tex">(\mathsf{g}^i(\mathsf{y}))</script> of
<script type="math/tex">T_{\mathsf{x}(\mathsf{y})}U</script> can be used to compute the scalars
<script type="math/tex">g^{ij}(\mathsf{y}) = \mathsf{g}^i(\mathsf{y}) \cdot \mathsf{g}^j(\mathsf{y})</script>:
<script type="math/tex; mode=display">g^{ij}(\mathsf{y}) = \sum \frac{\partial y_i(\mathsf{x})}{\partial x_a}\frac{\partial y_j(\mathsf{x})}{\partial x_a}.</script>
It is straightforward to verify that
<script type="math/tex">\sum g^{ij}(\mathsf{y})g_{jk}(\mathsf{y}) = \delta_{ik}</script>.</p>
<p>As an example of the usefulness of the reciprocal basis, the change in
coordinate representation of a vector field is revisited. Suppose that
<script type="math/tex">\mathsf{v}:U \to TU</script> is a smooth vector field on <script type="math/tex">U</script>. The
coordinate representation of <script type="math/tex">\mathsf{v}</script> using the Cartesian
coordinate system and the coordinate system <script type="math/tex">(U,\mathsf\phi)</script> are
related as follows:
<script type="math/tex">\sum v_i(\mathsf{x}) \mathsf{e}_i = \sum \hat{v}_i(\mathsf{y}) \mathsf{g}_i(\mathsf{y})</script>,
where <script type="math/tex">\mathsf{x} \in U</script> and <script type="math/tex">\mathsf{y} = \mathsf{y}(\mathsf{x})</script>.
Using the reciprocal coordinate basis just introduced, it follows after
a simple computation that
<script type="math/tex; mode=display">\hat{v}_i(\mathsf{y}) = \sum \frac{\partial y_i(\mathsf{x})}{\partial x_j} v_j(\mathsf{x}).</script>
This is the inverse of the relation obtained in the previous section
that expressed the Cartesian components <script type="math/tex">v_i</script> in terms of the
curvilinear components <script type="math/tex">\hat{v}_i</script>.</p>
<h2 id="christoffel-symbols">Christoffel symbols</h2>
<p>The discussion thus far can be summarized as follows: the choice of a
coordinate system <script type="math/tex">(U,\mathsf\phi)</script> naturally suggests a choice of
basis <script type="math/tex">(\mathsf{g}_i(\mathsf{y}))</script>, where <script type="math/tex">\mathsf{y} \in V</script>, for
<script type="math/tex">T_{\mathsf{x}(\mathsf{y})}U</script> called the coordinate basis. A natural
question to ask at this juncture is how the coordinate basis vectors
<script type="math/tex">\mathsf{g}_i(\mathsf{y})</script> as <script type="math/tex">\mathsf{y}</script> varies over <script type="math/tex">V</script>. To
answer this question, note that <script type="math/tex; mode=display">\begin{split}
\mathsf{g}_i(\mathsf{y}) = \sum \frac{\partial x_k(\mathsf{y})}{\partial y_i} \mathsf{e}_k \quad\Rightarrow\quad \frac{\partial \mathsf{g}_i(\mathsf{y})}{\partial y_j} &= \frac{\partial}{\partial x_j}\left(\sum \frac{\partial x_k(\mathsf{y})}{\partial y_i} \mathsf{e}_k\right)\\
 &= \sum \frac{\partial^2 x_a(\mathsf{y})}{\partial y_i \partial y_j} \mathsf{e}_a\\
 &= \sum \frac{\partial^2 x_a(\mathsf{y})}{\partial y_i \partial y_j} \frac{\partial y_k(\mathsf{x})}{\partial x_a} \mathsf{g}_k(\mathsf{y}),
\end{split}</script> where <script type="math/tex">\mathsf{x} = \mathsf{x}(\mathsf{y})</script>. Introducing
the <strong>Christoffel symbols</strong> <script type="math/tex">\Gamma^k_{ij}:V \to \mathbb{R}</script> as
<script type="math/tex; mode=display">\Gamma^k_{ij}(\mathsf{y}) = \sum \frac{\partial^2 x_a(\mathsf{y})}{\partial y_i \partial y_j} \frac{\partial y_k(\mathsf{x})}{\partial x_a},</script>
where <script type="math/tex">\mathsf{x} = \mathsf{x}(\mathsf{y})</script>. Note that each
<script type="math/tex">\Gamma^k_{ij}</script> is a scalar field on <script type="math/tex">V</script>, but they do not form the
components of a third order tensor field. Using the Christoffel symbols,
the foregoing equation can be written compactly as
<script type="math/tex; mode=display">\frac{\partial \mathsf{g}_i(\mathsf{y})}{\partial y_j} = \sum \Gamma^k_{ij} \mathsf{g}_k(\mathsf{y}).</script>
The Christoffel symbols thus provide a means to study how the coordinate
basis vectors change when moving from one tangent space to a
<em>neighboring</em> one. It also follows from this result that
<script type="math/tex; mode=display">\Gamma^k_{ij}(\mathsf{y}) = \mathsf{g}^k(\mathsf{y}) \cdot \frac{\partial \mathsf{g}_i(\mathsf{y})}{\partial y_j}.</script>
This equation clearly demonstrates that in the special case of the
Cartesian coordinate system, the Christoffel symbols vanish identically
since the basis vectors do not change when moving from one tangent space
to another.</p>
<p>An entirely analogous set of calculations can be peformed to show that
<script type="math/tex; mode=display"> \frac{\partial \mathsf{g}^i(\mathsf{y})}{\partial y_j} = -\sum \Gamma^i_{jk} \mathsf{g}^j. </script>
Thus the Christoffel symbols provide all the information necessary to compute how the basis vectors change as we move across tangent spaces. </p>
<div class="admonition info">
<p class="admonition-title">Remark</p>
<p>In the general theory of differentiable manifolds, the
appropriate generalization of the ideas discussed leads to the notion of
a <em>connection</em> on the manifold.</p>
</div>
<p>One important symmetry that the Christoffel symbols possess is that $\Gamma^k_{ij} = \Gamma^k_{ji}$, as can be easily verified from the expression defining the Christoffel symbols (using equality of mixed partial derivatives).</p>
<h2 id="metric-tensor">Metric tensor</h2>
<p>It is convenient at this point to introduce the <strong>metric tensor</strong> <script type="math/tex">g:U \to TU \otimes TU</script>, where $U \subseteq \mathbb{R}^3$ is open, as follows: for any $x \in U$,
<script type="math/tex; mode=display">\mathsf{g}(\mathsf{x}) = \sum \mathsf{e}_i \otimes \mathsf{e}_i.</script>
Note that this is just the identity tensor field. In terms of another coordinate system $(U,\phi)$ on $U$ that maps $\mathsf{x}$ to $\mathsf{y}$, it is easily checked that the following identities hold:
<script type="math/tex; mode=display">\begin{split}
\mathsf{g}(\mathsf{x}) &= \sum \delta_{ij} \mathsf{e}_i \otimes \mathsf{e}_j\\
 &= \sum g_{ij}(\mathsf{y}) \, \mathsf{g}^i(\mathsf{y}) \otimes \mathsf{g}^j(\mathsf{y})\\
 &= \sum g^{ij}(\mathsf{y}) \, \mathsf{g}_i(\mathsf{y}) \otimes \mathsf{g}_j(\mathsf{y})\\
 &= \sum \mathsf{g}_i \otimes \mathsf{g}^i\\
 &= \sum \mathsf{g}^i \otimes \mathsf{g}_i.\end{split}</script>
 We will also use the notation $\mathsf{g}(\mathsf{y})$ to denote $\mathsf{g}(\mathsf{y}(\mathsf{x}))$.</p>
<div class="admonition info">
<p class="admonition-title">Remark</p>
<p>Technically, the metric tensor has to be defined as a tensor of the form <script type="math/tex">\mathsf{g}:U \to T^*U \otimes T^*U</script>, where <script type="math/tex">T^*U</script> is the <em>cotangent bundle</em> on $U$. Since we are dealing throughout with finite dimensional Euclidean spaces, an implicit identification of the cotangent bundle <script type="math/tex">T^*U</script> with the tangent bundle <script type="math/tex">TU</script> is made in the foregoing definition. This is not a good idea in general -- the simpler and more imprecise approach adopted here is sufficient for our purposes.</p>
</div>
<p>The idea behind the metric is to provide a smooth extension of the inner
product over every tangent space. Indeed, for any <script type="math/tex">\mathsf{x} \in U</script>,
given any <script type="math/tex">\mathsf{u},\mathsf{w} \in T_{\mathsf{x}}U</script>, it follows that
<script type="math/tex; mode=display">\sum u_i w_i = \mathsf{u} \cdot \mathsf{w} = \mathsf{g}(\mathsf{x})(\mathsf{u},\mathsf{w}) = \sum g_{ij}(\mathsf{y}) \hat{u}_i \hat{w}_j.</script>
</p>
<p>Introducing the
notation
<script type="math/tex; mode=display">J_{ij}(\mathsf{y}) = \frac{\partial x_i(\mathsf{y})}{\partial y_j},</script>
for the elements of the Jacobian matrix for the change of coordinate
system from <script type="math/tex">(U,\mathsf\phi)</script> to the Cartesian coordinate system, it
follows from a simple calculation that
<script type="math/tex; mode=display">g_{ij}(\mathsf{y}) = \sum \frac{\partial x_k(\mathsf{y})}{\partial y_i}\frac{\partial x_k(\mathsf{y})}{\partial y_j} = \sum J_{ki}(\mathsf{y})J_{kj}(\mathsf{y}).</script>
Denoting by <script type="math/tex">J(\mathsf{y})</script> the determinant of the matrix whose
<script type="math/tex">(i,j)^{\text{th}}</script> entry is <script type="math/tex">J_{ij}(\mathsf{y})</script>, and by
<script type="math/tex">g(\mathsf{y})</script> the determinant of the matrix
whose <script type="math/tex">(i,j)^{\text{th}}</script> entry is <script type="math/tex">g_{ij}(\mathsf{y})</script>, it follows
from the previous equation that
<script type="math/tex; mode=display">g(\mathsf{y}) = J(\mathsf{y})^2 \quad\Rightarrow\quad J(\mathsf{y}) = \sqrt{g(\mathsf{y})}.</script>
Note that in the equation above,
<script type="math/tex">\mathsf{x} = \mathsf{x}(\mathsf{y})</script>. Similar expressions can be computed for the inverse transformation from the curvilinear coordinates $\mathsf{y}$ to the Cartesian coordinates $\mathsf{x}$.</p>
<p>An important result that is quite useful in applications concerns the derivative of the determinant of $g(\mathsf{y})$ with respect to its entries $g_{ij}(\mathsf{y})$. Towards this end, consider an invertible matrix $\mathsf{A}$ whose (real-valued) entries are $a_{ij}$. We will denote the entries of its inverse $\mathsf{A}^{-1}$ as $a^{ij}$. Let $a$ be the determinant of $\mathsf{A}$. From elementary matrix algebra, we know that the inverse of the matrix is computed as
<script type="math/tex; mode=display"> a^{ij} = \frac{1}{a}(\text{cof }\mathsf{A})_{ji}. </script>
Here, $\text{cof }\mathsf{A}$ denotes the <strong>cofactor</strong> of $\mathsf{A}$, and its transpose is called the <strong>adjoint</strong> of $\mathsf{A}$. We wish to compute the derivative of $a$ with respect to $a_{ij}$. Let us consier the Laplace expansion of the determinant:
<script type="math/tex; mode=display">a = \sum_j a_{ij} (\text{cof }\mathsf{A})_{ij}. </script>
Differentiating this with respect to $a_{ij}$ and noting that <script type="math/tex">(\text{cof }\mathsf{A})_{ij}</script> does not involve $a_{ij}$, a simple calculation shows that
<script type="math/tex; mode=display"> \frac{\partial a}{\partial a_{ij}} = (\text{cof }\mathsf{A})_{ij} = a a^{ji}. </script>
This result is called <strong>Jacobi's formula</strong>.</p>
<h2 id="gradient">Gradient</h2>
<p>Let <script type="math/tex">\mathsf{v}:U \to TU</script> be a smooth vector field over an open subset
<script type="math/tex">U \subseteq \mathbb{R}^3</script>. Recall from the earlier discussion that
all the key differential quantities related to <script type="math/tex">\mathsf{v}</script> are
obtained from the covariant derivative of <script type="math/tex">\mathsf{v}</script>. Given a
coordinate system <script type="math/tex">(U,\mathsf\phi)</script>, the curvilinear coordinate
representation of the covariant derivative of <script type="math/tex">\mathsf{v}</script> is obtained
as follows: for any <script type="math/tex">\mathsf{x} \in U</script> and
<script type="math/tex">\mathsf{w} \in T_{\mathsf{x}}U</script>, with
<script type="math/tex">\mathsf{y} = \mathsf{y}(\mathsf{x})</script>, <script type="math/tex; mode=display">\begin{split}
\nabla_{\mathsf{w}}\mathsf{v}(\mathsf{x}) &= \frac{d}{dt}\bigg\vert_{t=0} \mathsf{v}(\mathsf{x} + t\mathsf{w})\\
 &= \frac{d}{dt}\bigg\vert_{t=0} \sum \hat{v}_i(\mathsf{y} + t\hat{\mathsf{w}}) \mathsf{g}_i(\mathsf{y} + t\hat{\mathsf{w}})\\
 &= \sum \left(\partial_j \hat{v}_i(\mathsf{y}) \hat{w}_j \mathsf{g}_i(\mathsf{y}) + \hat{v}_i(\mathsf{y}) \partial_j \mathsf{g}_i(\mathsf{y})\hat{w}_j\right)\\
 &= \sum \left(\partial_j \hat{v}_i(\mathsf{y}) + \Gamma^i_{kj}(\mathsf{y})\hat{v}_k(\mathsf{y})\right)\hat{w}_j \mathsf{g}_i(\mathsf{y}).
\end{split}</script> In the derivation above,
<script type="math/tex">\hat{\mathsf{w}} = (\hat{w}_1, \hat{w}_2, \hat{w}_3)</script> where
<script type="math/tex">\{\hat{w}_i\}</script> are constants such that
<script type="math/tex">\mathsf{w} = \sum \hat{w}_i \mathsf{g}_i(\mathsf{y})</script>. We will use the following special notation to denote the components of the covariant derivative of $\mathsf{v}$:
<script type="math/tex; mode=display">\hat{v}_{i|j}(\mathsf{y}) = \partial_j \hat{v}_i(\mathsf{y}) + \Gamma^i_{kj}(\mathsf{y})\hat{v}_k(\mathsf{y}).</script>
Using this, the final expression for the covariant derivative
<script type="math/tex">\nabla_{\mathsf{w}}\mathsf{v}(\mathsf{x})</script> just derived can rewritten
as follows:
<script type="math/tex; mode=display">
\sum \hat{v}_{i|j}(\mathsf{y})\hat{w}_j \mathsf{g}_i(\mathsf{y}) = 
\left(\sum \hat{v}_{i|j}(\mathsf{y})\mathsf{g}_i(\mathsf{y}) \otimes \mathsf{g}^j(\mathsf{y})\right) \cdot \left(\sum \hat{w}_l \mathsf{g}_l(\mathsf{y})\right).</script>
It immediately follows from this equation that the gradient of the
vector field <script type="math/tex">\mathsf{v}</script> can be written in curvilinear coordinates as
<script type="math/tex; mode=display">\nabla \mathsf{v}(\mathsf{x}) = \sum \hat{v}_{i|j}(\mathsf{y})\mathsf{g}_i(\mathsf{y}) \otimes \mathsf{g}^j(\mathsf{y}).</script>
In the expression above, <script type="math/tex">\mathsf{x} = \mathsf{x}(\mathsf{y})</script>.</p>
<p>The foregoing calculations can be extended to tensor fields too. Rather than providing the corresponding expressions for a general
tensor field, the special case of a second order tensor field
<script type="math/tex">\mathsf{A}:U \to \otimes^2 TU</script> is considered here. The starting point
is, as before, the covariant derivative of <script type="math/tex">\mathsf{A}</script> at
<script type="math/tex">\mathsf{x} \in U</script> along <script type="math/tex">\mathsf{w} \in T_{\mathsf{x}}U</script>. This is
computed as follows: <script type="math/tex; mode=display">\begin{split}
\nabla_{\mathsf{w}}\mathsf{A}(\mathsf{x}) &= \frac{d}{dt}\bigg\vert_{t=0} \hat{A}_{ij}(\mathsf{y} + t\hat{\mathsf{w}}) \, \mathsf{g}_i(\mathsf{y} + t\hat{\mathsf{w}}) \otimes \mathsf{g}_j(\mathsf{y} + t\hat{\mathsf{w}})\\
 &= \sum \left(\partial_k \hat{A}_{ij}(\mathsf{y}) + \Gamma^i_{ak}(\mathsf{y})\hat{A}_{aj}(\mathsf{y}) + \Gamma^j_{bk}(\mathsf{y})\hat{A}_{ib}(\mathsf{y})\right) \hat{w}_k \, \mathsf{g}_i(\mathsf{y}) \otimes \mathsf{g}_j(\mathsf{y}).
\end{split}</script> 
As before, we introduce the following special notation for the components of the covariant derivative of $\mathsf{A}$:
<script type="math/tex; mode=display">\hat{A}_{ij|k}(\mathsf{y}) = \sum \left(\partial_k \hat{A}_{ij}(\mathsf{y}) + \Gamma^i_{ak}(\mathsf{y})\hat{A}_{aj}(\mathsf{y}) + \Gamma^j_{bk}(\mathsf{y})\hat{A}_{ib}(\mathsf{y})\right).</script>
The gradient of <script type="math/tex">\mathsf{A}</script> can be easily seen from the
above calculation as
<script type="math/tex; mode=display">\nabla \mathsf{A}(\mathsf{x}) = \sum \hat{A}_{ij|k}(\mathsf{y}) \mathsf{g}_i(\mathsf{y}) \otimes \mathsf{g}_j(\mathsf{y}) \otimes \mathsf{g}^k(\mathsf{y}).</script>
Notice that the final term in the basis vector is a reciprocal vector.</p>
<h3 id="gradient-of-the-metric-tensor">Gradient of the metric tensor</h3>
<p>As an immediate application, let us compute the covariant derivative of the metric tensor $\mathsf{g}:U \to \otimes^2 TU$. It follows from the definition of the covariant derivative that since <script type="math/tex">\mathsf{g}(\mathsf{x}) = \sum \mathsf{e}_i \otimes \mathsf{e}_i</script> does not vary as $\mathsf{x}$ varies over $U$, that
<script type="math/tex; mode=display">\nabla \mathsf{g}(\mathsf{x}) = \mathsf{0}. </script>
This is equivalent to stating that $g_{ij|k}(\mathsf{y}) = 0$, for any choice of coordinate system. Working out the details, we get
<script type="math/tex; mode=display">g_{ij,k}(\mathsf{y}) = g_{lj}(\mathsf{y})\Gamma^l_{ik}(\mathsf{y}) + g_{il}(\mathsf{y})\Gamma^l_{jk}(\mathsf{y}). </script>
The foregoing equation can alternatively be obtained by directly differentiating <script type="math/tex">\sum g_{ij}(\mathsf{y}) \mathsf{g}^i(\mathsf{y}) \otimes \mathsf{g}^j(\mathsf{y})</script> with respect to $\mathsf{y}$ and setting it to zero. A straightforward algebraic manipulation of this result yields the following useful relation:
<script type="math/tex; mode=display">\Gamma^l_{ij}(\mathsf{y}) = \frac{1}{2}g^{kl}(\mathsf{y})\left(g_{ik,j}(\mathsf{y}) + g_{kj,i}(\mathsf{y}) - g_{ij,k}(\mathsf{y})\right).</script>
Alternatively, the validity of this expression can be checked by substituting the expression for the partial derivatives of $g_{ij}(\mathsf{y})$ with respect to $\mathsf{y}$ computed earlier. </p>
<h2 id="divergence">Divergence</h2>
<p>The divergence of the smooth vector field <script type="math/tex">\mathsf{v}:U \to TU</script> is obtained by contracting the gradient:
<script type="math/tex; mode=display">\nabla \cdot \mathsf{v}(\mathsf{x}) = \sum \hat{v}_{i|i}(\mathsf{y}).</script>
Notice how the expression for divergence derived here reduce to their Cartesian forms when the Christoffel symbols are set to zero.</p>
<p>Similar calculations can be carried out for tensor fields. The divergence of the second order tensor field <script type="math/tex">\mathsf{A}:U \to \otimes^2 TU</script> considered in the previous is computed easily from this expression
<script type="math/tex; mode=display">\nabla \cdot \mathsf{A}(\mathsf{x}) = \sum \hat{A}_{ij|j}(\mathsf{y}) \mathsf{g}_i(\mathsf{y})</script>
The curvilinear coordinate representation of the divergence
of a tensor field of arbitrary order over <script type="math/tex">U</script> can be computed using a
straightforward extension of the ideas presented above.</p>
<p>A particularly convenient form of the divergence of a vector field is obtained by noting, from the relationship between the Christoffel symbols and the metric tensor derived earlier, that
<script type="math/tex; mode=display">\sum \Gamma^j_{ij}(\mathsf{y}) = \sum \frac{1}{2}g^{kl}(\mathsf{y})\partial_i g_{kl}(\mathsf{y}).</script>
Using Jacobi's formula for the derivatives of the determinant, we see that
<script type="math/tex; mode=display">\begin{split}
\partial_i g(\mathsf{y}) &= \sum \frac{\partial g(\mathsf{y})}{\partial g_{jk}}\frac{\partial g_{jk}(\mathsf{y})}{\partial y_i}\\
 &= \sum g(\mathsf{y})g^{jk}(\mathsf{y})\partial_i g_{jk}(\mathsf{y})\\
 &= \sum 2g(\mathsf{y})\Gamma^j_{ij}(\mathsf{y}).\end{split}</script>
We therefore see that
<script type="math/tex; mode=display">\Gamma^j_{ij}(\mathsf{y}) = \frac{1}{2g(\mathsf{y})}\partial_i g(\mathsf{y}) = \frac{1}{\sqrt{g(\mathsf{y})}}\partial_i \left(\sqrt{g(\mathsf{y})}\right).</script>
Using this relation, we can express the divergence of a vector field compactly as follows:
<script type="math/tex; mode=display">\nabla\cdot\mathsf{v}(\mathsf{x}) = \sum \frac{1}{\sqrt{g(\mathsf{y})}}\partial_i \left(\sqrt{g(\mathsf{y})}\hat{v}_i(\mathsf{y})\right),</script>
as can be verified by a trite calculation.</p>
<h2 id="curl">Curl</h2>
<p>The curl of the vector field <script type="math/tex">\mathsf{v}:U \to TU</script> can be computed
from its divergence using the definition
<script type="math/tex">\mathsf{w} \cdot \nabla \times \mathsf{v}(\mathsf{x}) = \nabla \cdot (\mathsf{v} \times \mathsf{w})(\mathsf{x})</script>,
where <script type="math/tex">\mathsf{x} \in U</script> and <script type="math/tex">\mathsf{w}:U \to TU</script> is a constant
vector field. Employing a curvilinear coordinate system
<script type="math/tex">(U,\mathsf\phi)</script>, the vector
<script type="math/tex">\mathsf{v}(\mathsf{x}) \times \mathsf{w} \in T_{\mathsf{x}}U</script> can be
written as
<script type="math/tex; mode=display">\mathsf{v}(\mathsf{x}) \times \mathsf{w} = \left(\sum \hat{v}_i(\mathsf{y}) \mathsf{g}_i(\mathsf{y})\right) \times \left(\sum \hat{w}_j \mathsf{g}_j(\mathsf{y})\right) = \sum \hat{v}_i(\mathsf{y})\hat{w}_j \mathsf{g}_i(\mathsf{y}) \times \mathsf{g}_j(\mathsf{y}),</script>
where <script type="math/tex">\mathsf{y} = \mathsf{y}(\mathsf{x})</script>. To evaluate
<script type="math/tex">\mathsf{g}_i(\mathsf{y}) \times \mathsf{g}_j(\mathsf{y})</script>, we use the definition of the Levi-Civita tensor on <script type="math/tex">\mathbb{R}^3</script>, and the definition of the determinant, to first establish the following result:
<script type="math/tex; mode=display">\mathsf{g}_i(\mathsf{y}) \cdot \mathsf{g}_j(\mathsf{y}) \times \mathsf{g}_k(\mathsf{y}) = \sum \epsilon_{abc} \frac{\partial x_a(\mathsf{y})}{\partial y_i}\frac{\partial x_b(\mathsf{y})}{\partial y_j}\frac{\partial x_c(\mathsf{y})}{\partial y_k} = \sqrt{g(\mathsf{y})} \, \epsilon_{ijk}.</script>
This shows at once that
<script type="math/tex; mode=display">\mathsf{g}_j(\mathsf{y}) \times \mathsf{g}_k(\mathsf{y}) = \sum \sqrt{g(\mathsf{y})} \, \epsilon_{ijk} \, \mathsf{g}^i(\mathsf{y}).</script>
Returning to the computation of the vector
<script type="math/tex">\mathsf{v}(\mathsf{x}) \times \mathsf{w}</script> in curvilinear coordinates, we note that
<script type="math/tex; mode=display">\begin{split}
\mathsf{v}(\mathsf{x}) \times \mathsf{w} &= \sum \sqrt{g(\mathsf{y})} \, \epsilon_{ijk} \hat{v}_i(\mathsf{y})\hat{w}_j(\mathsf{y}) \, \mathsf{g}^k(\mathsf{y})\\
 &= \sum \sqrt{g(\mathsf{y})} \, \epsilon_{ijk} \, g^{ka}(\mathsf{y}) \, \hat{v}_i(\mathsf{y})\hat{w}_j(\mathsf{y}) \, \mathsf{g}_a(\mathsf{y}).
\end{split}</script> 
The divergence of <script type="math/tex">\mathsf{v}(\mathsf{x}) \times \mathsf{w}</script> can now be computed in curvilinear coordinates, using the expression derived in the previous section, as 
<script type="math/tex; mode=display">\begin{split}
\nabla \cdot (\mathsf{v} \times \mathsf{w})(\mathsf{x}) &= \sum \frac{\epsilon_{ijk}}{\sqrt{g(\mathsf{y})}}\partial_l \left(g(\mathsf{y})g^{kl}(\mathsf{y})\hat{v}_i(\mathsf{y})w_j\right)\\
 &= \left(\sum \hat{w}_m\mathsf{g}_m(\mathsf{y})\right) \cdot \left(\sum \frac{\epsilon_{ijk}}{\sqrt{g(\mathsf{y})}}\partial_l \left(g(\mathsf{y})g^{kl}(\mathsf{y})\hat{v}_i(\mathsf{y})\right) \mathsf{g}^j(\mathsf{y})\right).
\end{split}</script> 
The curvilinear coordinate expression for the curl of the
vector field <script type="math/tex">\mathsf{v}</script> follows at once from this calculation that
<script type="math/tex; mode=display">\nabla \times \mathsf{v}(\mathsf{x}) = \sum \frac{\epsilon_{ijk}}{\sqrt{g(\mathsf{y})}}\partial_l \left(g(\mathsf{y})g^{kl}(\mathsf{y})\hat{v}_i(\mathsf{y})\right) \mathsf{g}^j(\mathsf{y}).</script>
The curl of tensor fields of higher order is computed along the same
lines. The final expressions are not provided here since they have
cumbersome algebraic forms in curvilinear coordinates.</p>
<h2 id="integration">Integration</h2>
<p>Suppose that <script type="math/tex">f:U \to \mathbb{R}</script> is a scalar field on an open subset
<script type="math/tex">U \subseteq \mathbb{R}^3</script>. Given a coordinate system
<script type="math/tex">(U,\mathsf\phi)</script> on <script type="math/tex">\mathbb{R}^3</script>, the integral of <script type="math/tex">f</script> over
<script type="math/tex">U</script> is defined as follows: <script type="math/tex; mode=display">\begin{split}
\int_U f(\mathsf{x})\,dv &= \int_U f(x_1, x_2, x_3)\,dx_1 dx_2 dx_3\\
 &= \int_{\mathsf\phi(U)} (f \circ \mathsf\phi^{-1})(y_1, y_2, y_3) \, \text{det}\left(\frac{\partial \mathsf{x}}{\partial \mathsf{y}}\right) dy_1 dy_2 dy_3\\
 &= \int_{\mathsf\phi(U)} (f \circ \mathsf\phi^{-1})(y_1, y_2, y_3) \sqrt{g(\mathsf{y})} \, dy_1 dy_2 dy_3.
\end{split}</script> In the equation above
<script type="math/tex">\partial \mathsf{x}/\partial \mathsf{y}</script> denotes the matrix whose
<script type="math/tex">(i,j)^{\text{th}}</script> component is
<script type="math/tex">\partial x_i(\mathsf{y})/\partial y_j</script>. This result follows from the
change of variables formula for multiple integrals.</p>
<h2 id="special-coordinate-systems">Special coordinate systems</h2>
<p>...</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../tensor_analysis_R3/" title="Euclidean Tensor Analysis" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Euclidean Tensor Analysis
              </span>
            </div>
          </a>
        
        
          <a href="../set_theory/" title="Appendix - Set Theory" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Appendix - Set Theory
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.ac79c3b0.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
        <script src="../mathjaxhelper.js"></script>
      
    
  </body>
</html>